{"ast":null,"code":"var _jsxFileName = \"/Users/johannacastagna/Documents/projet11Enieme/frontend/src/pages/User/index.jsx\",\n  _s = $RefreshSig$();\nimport './user_module.scss';\nimport Account from '../../components/Account';\nimport { useNavigate } from 'react-router-dom';\nimport EditProfile from '../../components/EditProfile';\nimport { useEffect } from \"react\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchAccount, userSelector, clearState } from '../../features/UserSlices';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction User() {\n  _s();\n  let token = localStorage.getItem(\"token\");\n  const navigate = useNavigate();\n  if (token === null) {\n    navigate(\"/signIn\");\n  }\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(fetchAccount());\n  }, [dispatch]);\n  const {\n    isError,\n    account,\n    isFetching\n  } = useSelector(userSelector);\n  useEffect(() => {\n    return () => {\n      dispatch(clearState());\n    };\n  }, [dispatch]);\n  useEffect(() => {\n    if (isError) {\n      dispatch(clearState());\n    }\n  }, [isError, dispatch]);\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    className: \"main bg-dark\",\n    children: [/*#__PURE__*/_jsxDEV(EditProfile, {\n      token: token\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"sr-only\",\n      children: \"Accounts\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 11\n    }, this), account === null || account === void 0 ? void 0 : account.map(accounts => /*#__PURE__*/_jsxDEV(Account, {\n      title: accounts.title,\n      amount: accounts.amount,\n      description: accounts.description\n    }, accounts.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 9\n  }, this);\n}\n_s(User, \"RxdBElfIW+TJcflxy/kTjZT10tw=\", false, function () {\n  return [useNavigate, useDispatch, useSelector];\n});\n_c = User;\nexport default User;\nvar _c;\n$RefreshReg$(_c, \"User\");","map":{"version":3,"names":["Account","useNavigate","EditProfile","useEffect","useDispatch","useSelector","fetchAccount","userSelector","clearState","jsxDEV","_jsxDEV","User","_s","token","localStorage","getItem","navigate","dispatch","isError","account","isFetching","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","accounts","title","amount","description","id","_c","$RefreshReg$"],"sources":["/Users/johannacastagna/Documents/projet11Enieme/frontend/src/pages/User/index.jsx"],"sourcesContent":["import './user_module.scss'\nimport Account from '../../components/Account'\nimport { useNavigate } from 'react-router-dom'\nimport EditProfile from '../../components/EditProfile'\nimport { useEffect } from \"react\";\nimport { useDispatch, useSelector } from 'react-redux'\nimport { fetchAccount, userSelector, clearState } from '../../features/UserSlices';\n\n\nfunction User() {\n    let token = localStorage.getItem(\"token\")\n    const navigate = useNavigate()\n    if(token === null) {\n        navigate(\"/signIn\")\n    }\n    const dispatch = useDispatch();\n    \n    useEffect(() => {\n        dispatch(fetchAccount());\n    }, [dispatch]);\n    \n    const { isError, account, isFetching } = useSelector(userSelector);\n    \n    useEffect(() => {\n        return () => {\n        dispatch(clearState());\n        };\n    }, [dispatch]);\n    \n    useEffect(() => {\n        if (isError) {\n        dispatch(clearState());\n        }\n    }, [isError, dispatch]);\n    return (\n        <main className=\"main bg-dark\">\n          <EditProfile token={token} />\n          <h2 className=\"sr-only\">Accounts</h2>\n          {account?.map((accounts) => (\n            <Account\n              key={accounts.id}\n              title={accounts.title}\n              amount={accounts.amount}\n              description={accounts.description}\n            />\n          ))}\n        </main>\n      );\n      \n\n} \nexport default User"],"mappings":";;AAAA,OAAO,oBAAoB;AAC3B,OAAOA,OAAO,MAAM,0BAA0B;AAC9C,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,WAAW,MAAM,8BAA8B;AACtD,SAASC,SAAS,QAAQ,OAAO;AACjC,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AACtD,SAASC,YAAY,EAAEC,YAAY,EAAEC,UAAU,QAAQ,2BAA2B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAGnF,SAASC,IAAIA,CAAA,EAAG;EAAAC,EAAA;EACZ,IAAIC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EACzC,MAAMC,QAAQ,GAAGf,WAAW,CAAC,CAAC;EAC9B,IAAGY,KAAK,KAAK,IAAI,EAAE;IACfG,QAAQ,CAAC,SAAS,CAAC;EACvB;EACA,MAAMC,QAAQ,GAAGb,WAAW,CAAC,CAAC;EAE9BD,SAAS,CAAC,MAAM;IACZc,QAAQ,CAACX,YAAY,CAAC,CAAC,CAAC;EAC5B,CAAC,EAAE,CAACW,QAAQ,CAAC,CAAC;EAEd,MAAM;IAAEC,OAAO;IAAEC,OAAO;IAAEC;EAAW,CAAC,GAAGf,WAAW,CAACE,YAAY,CAAC;EAElEJ,SAAS,CAAC,MAAM;IACZ,OAAO,MAAM;MACbc,QAAQ,CAACT,UAAU,CAAC,CAAC,CAAC;IACtB,CAAC;EACL,CAAC,EAAE,CAACS,QAAQ,CAAC,CAAC;EAEdd,SAAS,CAAC,MAAM;IACZ,IAAIe,OAAO,EAAE;MACbD,QAAQ,CAACT,UAAU,CAAC,CAAC,CAAC;IACtB;EACJ,CAAC,EAAE,CAACU,OAAO,EAAED,QAAQ,CAAC,CAAC;EACvB,oBACIP,OAAA;IAAMW,SAAS,EAAC,cAAc;IAAAC,QAAA,gBAC5BZ,OAAA,CAACR,WAAW;MAACW,KAAK,EAAEA;IAAM;MAAAU,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAC7BhB,OAAA;MAAIW,SAAS,EAAC,SAAS;MAAAC,QAAA,EAAC;IAAQ;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EACpCP,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEQ,GAAG,CAAEC,QAAQ,iBACrBlB,OAAA,CAACV,OAAO;MAEN6B,KAAK,EAAED,QAAQ,CAACC,KAAM;MACtBC,MAAM,EAAEF,QAAQ,CAACE,MAAO;MACxBC,WAAW,EAAEH,QAAQ,CAACG;IAAY,GAH7BH,QAAQ,CAACI,EAAE;MAAAT,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAIjB,CACF,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAIf;AAACd,EAAA,CAzCQD,IAAI;EAAA,QAEQV,WAAW,EAIXG,WAAW,EAMaC,WAAW;AAAA;AAAA4B,EAAA,GAZ/CtB,IAAI;AA0Cb,eAAeA,IAAI;AAAA,IAAAsB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}