{"ast":null,"code":"var _jsxFileName = \"/Users/johannacastagna/Documents/Projet11/frontend/src/components/Header/index.jsx\",\n  _s = $RefreshSig$();\nimport './header_module.scss';\nimport Logo from '../../assets/argentBankLogo.webp';\nimport { Link, NavLink } from 'react-router-dom';\nimport { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchUserBytoken, userSelector, clearState } from '../../features/UserSlices';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Header() {\n  _s();\n  let token = localStorage.getItem('token');\n  const dispatch = useDispatch();\n  const {\n    isError,\n    username,\n    firstName\n  } = useSelector(userSelector);\n  useEffect(() => {\n    if (token) {\n      dispatch(fetchUserBytoken({\n        token\n      }));\n    }\n  }, [dispatch, token]);\n  useEffect(() => {\n    return () => {\n      dispatch(clearState());\n    };\n  }, [dispatch]);\n  useEffect(() => {\n    if (isError) {\n      dispatch(clearState());\n    }\n  }, [isError, dispatch]);\n  const logout = () => {\n    localStorage.removeItem('token');\n    window.location.href = '/signIn';\n  };\n  let menuLink = token ? /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(NavLink, {\n      className: _ref => {\n        let {\n          isActive\n        } = _ref;\n        return isActive ? 'main-nav-item active' : 'main-nav-item';\n      },\n      to: \"/user\",\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fa fa-user-circle\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), username || firstName]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      className: \"main-nav-item\",\n      onClick: logout,\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fa fa-sign-out\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), \"Sign Out\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true) : /*#__PURE__*/_jsxDEV(NavLink, {\n    className: _ref2 => {\n      let {\n        isActive\n      } = _ref2;\n      return isActive ? 'main-nav-item active' : 'main-nav-item';\n    },\n    to: \"/user\",\n    children: [/*#__PURE__*/_jsxDEV(\"i\", {\n      className: \"fa fa-user-circle-o\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), username || firstName]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"nav\", {\n    className: \"main-nav\",\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      className: \"main-nav-logo\",\n      to: \"/\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"main-nav-logo-image\",\n        src: Logo,\n        alt: \"Argent Bank Logo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"sr-only\",\n        children: \"Argent Bank\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: menuLink\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n}\n_s(Header, \"Hjq4Nph67nfHmsfVgOCDmz68NJY=\", false, function () {\n  return [useDispatch, useSelector];\n});\n_c = Header;\nexport default Header;\nvar _c;\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"names":["Logo","Link","NavLink","useEffect","useDispatch","useSelector","fetchUserBytoken","userSelector","clearState","jsxDEV","_jsxDEV","Fragment","_Fragment","Header","_s","token","localStorage","getItem","dispatch","isError","username","firstName","logout","removeItem","window","location","href","menuLink","children","className","_ref","isActive","to","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_ref2","src","alt","_c","$RefreshReg$"],"sources":["/Users/johannacastagna/Documents/Projet11/frontend/src/components/Header/index.jsx"],"sourcesContent":["import './header_module.scss';\nimport Logo from '../../assets/argentBankLogo.webp';\nimport { Link, NavLink } from 'react-router-dom';\nimport { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  fetchUserBytoken,\n  userSelector,\n  clearState,\n} from '../../features/UserSlices';\n\nfunction Header() {\n  let token = localStorage.getItem('token');\n  const dispatch = useDispatch();\n  const { isError, username, firstName } = useSelector(userSelector);\n\n  useEffect(() => {\n    if (token) {\n      dispatch(fetchUserBytoken({ token }));\n    }\n  }, [dispatch, token]);\n\n  useEffect(() => {\n    return () => {\n      dispatch(clearState());\n    };\n  }, [dispatch]);\n\n  useEffect(() => {\n    if (isError) {\n      dispatch(clearState());\n    }\n  }, [isError, dispatch]);\n\n  const logout = () => {\n    localStorage.removeItem('token');\n    window.location.href = '/signIn'\n  };\n\n  let menuLink = token ? (\n    <>\n      <NavLink\n        className={({ isActive }) => isActive ? 'main-nav-item active' : 'main-nav-item'}\n        to='/user'\n      >\n        <i className='fa fa-user-circle'></i>\n        {username || firstName}\n      </NavLink>\n      <Link className='main-nav-item' onClick={logout}>\n        <i className='fa fa-sign-out'></i>\n        Sign Out\n      </Link>\n    </>\n  ) : (\n    <NavLink\n      className={({ isActive }) => isActive ? 'main-nav-item active' : 'main-nav-item'}\n      to='/user'\n    >\n      <i className='fa fa-user-circle-o'></i>\n      {username || firstName}\n    </NavLink>\n  );\n\n  return (\n    <nav className='main-nav'>\n      <Link className='main-nav-logo' to='/'>\n        <img className='main-nav-logo-image' src={Logo} alt='Argent Bank Logo' />\n        <h1 className='sr-only'>Argent Bank</h1>\n      </Link>\n      <div>{menuLink}</div>\n    </nav>\n  );\n}\n\nexport default Header;\n"],"mappings":";;AAAA,OAAO,sBAAsB;AAC7B,OAAOA,IAAI,MAAM,kCAAkC;AACnD,SAASC,IAAI,EAAEC,OAAO,QAAQ,kBAAkB;AAChD,SAASC,SAAS,QAAQ,OAAO;AACjC,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AACtD,SACEC,gBAAgB,EAChBC,YAAY,EACZC,UAAU,QACL,2BAA2B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAEnC,SAASC,MAAMA,CAAA,EAAG;EAAAC,EAAA;EAChB,IAAIC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EACzC,MAAMC,QAAQ,GAAGd,WAAW,CAAC,CAAC;EAC9B,MAAM;IAAEe,OAAO;IAAEC,QAAQ;IAAEC;EAAU,CAAC,GAAGhB,WAAW,CAACE,YAAY,CAAC;EAElEJ,SAAS,CAAC,MAAM;IACd,IAAIY,KAAK,EAAE;MACTG,QAAQ,CAACZ,gBAAgB,CAAC;QAAES;MAAM,CAAC,CAAC,CAAC;IACvC;EACF,CAAC,EAAE,CAACG,QAAQ,EAAEH,KAAK,CAAC,CAAC;EAErBZ,SAAS,CAAC,MAAM;IACd,OAAO,MAAM;MACXe,QAAQ,CAACV,UAAU,CAAC,CAAC,CAAC;IACxB,CAAC;EACH,CAAC,EAAE,CAACU,QAAQ,CAAC,CAAC;EAEdf,SAAS,CAAC,MAAM;IACd,IAAIgB,OAAO,EAAE;MACXD,QAAQ,CAACV,UAAU,CAAC,CAAC,CAAC;IACxB;EACF,CAAC,EAAE,CAACW,OAAO,EAAED,QAAQ,CAAC,CAAC;EAEvB,MAAMI,MAAM,GAAGA,CAAA,KAAM;IACnBN,YAAY,CAACO,UAAU,CAAC,OAAO,CAAC;IAChCC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,SAAS;EAClC,CAAC;EAED,IAAIC,QAAQ,GAAGZ,KAAK,gBAClBL,OAAA,CAAAE,SAAA;IAAAgB,QAAA,gBACElB,OAAA,CAACR,OAAO;MACN2B,SAAS,EAAEC,IAAA;QAAA,IAAC;UAAEC;QAAS,CAAC,GAAAD,IAAA;QAAA,OAAKC,QAAQ,GAAG,sBAAsB,GAAG,eAAe;MAAA,CAAC;MACjFC,EAAE,EAAC,OAAO;MAAAJ,QAAA,gBAEVlB,OAAA;QAAGmB,SAAS,EAAC;MAAmB;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EACpChB,QAAQ,IAAIC,SAAS;IAAA;MAAAY,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACf,CAAC,eACV1B,OAAA,CAACT,IAAI;MAAC4B,SAAS,EAAC,eAAe;MAACQ,OAAO,EAAEf,MAAO;MAAAM,QAAA,gBAC9ClB,OAAA;QAAGmB,SAAS,EAAC;MAAgB;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,YAEpC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC;EAAA,eACP,CAAC,gBAEH1B,OAAA,CAACR,OAAO;IACN2B,SAAS,EAAES,KAAA;MAAA,IAAC;QAAEP;MAAS,CAAC,GAAAO,KAAA;MAAA,OAAKP,QAAQ,GAAG,sBAAsB,GAAG,eAAe;IAAA,CAAC;IACjFC,EAAE,EAAC,OAAO;IAAAJ,QAAA,gBAEVlB,OAAA;MAAGmB,SAAS,EAAC;IAAqB;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EACtChB,QAAQ,IAAIC,SAAS;EAAA;IAAAY,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACf,CACV;EAED,oBACE1B,OAAA;IAAKmB,SAAS,EAAC,UAAU;IAAAD,QAAA,gBACvBlB,OAAA,CAACT,IAAI;MAAC4B,SAAS,EAAC,eAAe;MAACG,EAAE,EAAC,GAAG;MAAAJ,QAAA,gBACpClB,OAAA;QAAKmB,SAAS,EAAC,qBAAqB;QAACU,GAAG,EAAEvC,IAAK;QAACwC,GAAG,EAAC;MAAkB;QAAAP,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACzE1B,OAAA;QAAImB,SAAS,EAAC,SAAS;QAAAD,QAAA,EAAC;MAAW;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACpC,CAAC,eACP1B,OAAA;MAAAkB,QAAA,EAAMD;IAAQ;MAAAM,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAClB,CAAC;AAEV;AAACtB,EAAA,CA7DQD,MAAM;EAAA,QAEIT,WAAW,EACaC,WAAW;AAAA;AAAAoC,EAAA,GAH7C5B,MAAM;AA+Df,eAAeA,MAAM;AAAC,IAAA4B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}