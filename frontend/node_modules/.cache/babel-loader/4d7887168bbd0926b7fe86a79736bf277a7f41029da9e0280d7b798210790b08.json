{"ast":null,"code":"import { createReducer, createAction } from '@reduxjs/toolkit';\nexport const logIn = createAction('logIn');\nexport const logOut = createAction('logOut');\nexport const setUserData = createAction('setUserData');\nexport const updateUserData = createAction('updateUserData');\nconst initialState = {\n  name: \"userReducer\",\n  connected: false,\n  JWTtoken: null,\n  userData: {}\n};\nexport default createReducer(initialState, builder => builder.addCase(logIn, (draft, JWTtoken) => {\n  // \n  if (draft.connected === false) {\n    draft.connected = true;\n    draft.JWTtoken = JWTtoken.payload;\n    return;\n  }\n  if (draft.connected === true) {\n    return;\n  }\n}).addCase(logOut, draft => {\n  if (draft.connected === true) {\n    draft.connected = false;\n    draft.userData = {};\n    draft.JWTtoken = null;\n    return;\n  }\n  if (draft.connected === false) {\n    return;\n  }\n}).addCase(setUserData, (draft, userData) => {\n  draft.userData = userData.payload;\n}).addCase(updateUserData, (draft, userData) => {\n  draft.userData.firstName = userData.payload.firstName;\n  draft.userData.lastName = userData.payload.lastName;\n}));","map":{"version":3,"names":["createReducer","createAction","logIn","logOut","setUserData","updateUserData","initialState","name","connected","JWTtoken","userData","builder","addCase","draft","payload","firstName","lastName"],"sources":["/Users/johannacastagna/Documents/Projet_11/frontend/src/utils/reducers.jsx"],"sourcesContent":["import { createReducer, createAction } from '@reduxjs/toolkit'\n\nexport const logIn = createAction('logIn')\nexport const logOut = createAction('logOut')\nexport const setUserData = createAction('setUserData')\nexport const updateUserData = createAction('updateUserData')\n\n\nconst initialState = {\n    name: \"userReducer\",\n    connected: false,\n    JWTtoken: null,\n    userData: {},\n}\n\nexport default createReducer(initialState, (builder) =>\n    builder\n    .addCase(logIn, (draft, JWTtoken) => { // \n        if (draft.connected === false) {\n            draft.connected = true\n            draft.JWTtoken = JWTtoken.payload\n            return\n        }\n        if (draft.connected === true) {\n            return  \n        }\n    })\n    .addCase(logOut, (draft) => {\n        if (draft.connected === true) {\n            draft.connected = false\n            draft.userData = {}\n            draft.JWTtoken = null\n            return\n        }\n        if (draft.connected === false) {\n            return\n        }\n    })\n    .addCase(setUserData, (draft, userData) => {\n        draft.userData = userData.payload\n    })\n    .addCase(updateUserData, (draft, userData) => {\n        draft.userData.firstName = userData.payload.firstName\n        draft.userData.lastName = userData.payload.lastName\n    })\n)\n"],"mappings":"AAAA,SAASA,aAAa,EAAEC,YAAY,QAAQ,kBAAkB;AAE9D,OAAO,MAAMC,KAAK,GAAGD,YAAY,CAAC,OAAO,CAAC;AAC1C,OAAO,MAAME,MAAM,GAAGF,YAAY,CAAC,QAAQ,CAAC;AAC5C,OAAO,MAAMG,WAAW,GAAGH,YAAY,CAAC,aAAa,CAAC;AACtD,OAAO,MAAMI,cAAc,GAAGJ,YAAY,CAAC,gBAAgB,CAAC;AAG5D,MAAMK,YAAY,GAAG;EACjBC,IAAI,EAAE,aAAa;EACnBC,SAAS,EAAE,KAAK;EAChBC,QAAQ,EAAE,IAAI;EACdC,QAAQ,EAAE,CAAC;AACf,CAAC;AAED,eAAeV,aAAa,CAACM,YAAY,EAAGK,OAAO,IAC/CA,OAAO,CACNC,OAAO,CAACV,KAAK,EAAE,CAACW,KAAK,EAAEJ,QAAQ,KAAK;EAAE;EACnC,IAAII,KAAK,CAACL,SAAS,KAAK,KAAK,EAAE;IAC3BK,KAAK,CAACL,SAAS,GAAG,IAAI;IACtBK,KAAK,CAACJ,QAAQ,GAAGA,QAAQ,CAACK,OAAO;IACjC;EACJ;EACA,IAAID,KAAK,CAACL,SAAS,KAAK,IAAI,EAAE;IAC1B;EACJ;AACJ,CAAC,CAAC,CACDI,OAAO,CAACT,MAAM,EAAGU,KAAK,IAAK;EACxB,IAAIA,KAAK,CAACL,SAAS,KAAK,IAAI,EAAE;IAC1BK,KAAK,CAACL,SAAS,GAAG,KAAK;IACvBK,KAAK,CAACH,QAAQ,GAAG,CAAC,CAAC;IACnBG,KAAK,CAACJ,QAAQ,GAAG,IAAI;IACrB;EACJ;EACA,IAAII,KAAK,CAACL,SAAS,KAAK,KAAK,EAAE;IAC3B;EACJ;AACJ,CAAC,CAAC,CACDI,OAAO,CAACR,WAAW,EAAE,CAACS,KAAK,EAAEH,QAAQ,KAAK;EACvCG,KAAK,CAACH,QAAQ,GAAGA,QAAQ,CAACI,OAAO;AACrC,CAAC,CAAC,CACDF,OAAO,CAACP,cAAc,EAAE,CAACQ,KAAK,EAAEH,QAAQ,KAAK;EAC1CG,KAAK,CAACH,QAAQ,CAACK,SAAS,GAAGL,QAAQ,CAACI,OAAO,CAACC,SAAS;EACrDF,KAAK,CAACH,QAAQ,CAACM,QAAQ,GAAGN,QAAQ,CAACI,OAAO,CAACE,QAAQ;AACvD,CAAC,CAAC,CACL"},"metadata":{},"sourceType":"module","externalDependencies":[]}