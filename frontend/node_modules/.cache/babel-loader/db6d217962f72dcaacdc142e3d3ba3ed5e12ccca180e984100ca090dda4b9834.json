{"ast":null,"code":"var _jsxFileName = \"/Users/johannacastagna/Documents/projet11Enieme/frontend/src/components/Header/index.jsx\",\n  _s = $RefreshSig$();\nimport './headerStyle.scss';\nimport Logo from \"../../assets/argentBankLogo.webp\";\nimport { Link, NavLink, useNavigate } from 'react-router-dom';\nimport '../../utils/font-awesome-4.7.0/scss/font-awesome.scss';\nimport { useEffect } from \"react\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchUserBytoken, userSelector, clearState } from '../../features/UserSlices';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Header() {\n  _s();\n  let token = localStorage.getItem(\"token\");\n  const navigate = useNavigate();\n  const logout = () => {\n    localStorage.removeItem(\"token\");\n    navigate(\"/signIn\");\n  };\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (token != null) {\n      dispatch(fetchUserBytoken({\n        token: token\n      }));\n    }\n  }, [dispatch, token]);\n  const {\n    isError,\n    username,\n    firstName\n  } = useSelector(userSelector);\n  useEffect(() => {\n    return () => {\n      dispatch(clearState());\n    };\n  }, [dispatch]);\n  useEffect(() => {\n    if (isError) {\n      dispatch(clearState());\n    }\n  }, [isError, dispatch]);\n  let menuLink;\n  if (token != null) {\n    menuLink = /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(NavLink, {\n        activeclassname: \"active\",\n        className: \"main-nav-item\",\n        to: '/user',\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-user-circle\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 9\n        }, this), username != null ? username : firstName]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        className: \"main-nav-item\",\n        onClick: logout,\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-sign-out\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 9\n        }, this), \"Sign Out\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true);\n  }\n  if (!token) {\n    menuLink = /*#__PURE__*/_jsxDEV(NavLink, {\n      activeclassname: \"active\",\n      className: \"main-nav-item\",\n      to: '/signIn',\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fa fa-user-circle\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), \"Sign In\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"nav\", {\n    className: \"main-nav\",\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      className: \"main-nav-logo\",\n      to: '/',\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"main-nav-logo-image\",\n        src: Logo,\n        alt: \"Argent Bank Logo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"sr-only\",\n        children: \"Argent Bank\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: menuLink\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 9\n  }, this);\n}\n_s(Header, \"IlmmwJfUmaqeFixXK9AZr63IscQ=\", false, function () {\n  return [useNavigate, useDispatch, useSelector];\n});\n_c = Header;\nexport default Header;\nvar _c;\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"names":["Logo","Link","NavLink","useNavigate","useEffect","useDispatch","useSelector","fetchUserBytoken","userSelector","clearState","jsxDEV","_jsxDEV","Fragment","_Fragment","Header","_s","token","localStorage","getItem","navigate","logout","removeItem","dispatch","isError","username","firstName","menuLink","children","activeclassname","className","to","fileName","_jsxFileName","lineNumber","columnNumber","onClick","src","alt","_c","$RefreshReg$"],"sources":["/Users/johannacastagna/Documents/projet11Enieme/frontend/src/components/Header/index.jsx"],"sourcesContent":["import './headerStyle.scss'\nimport Logo from \"../../assets/argentBankLogo.webp\"\nimport { Link, NavLink, useNavigate } from 'react-router-dom'\nimport '../../utils/font-awesome-4.7.0/scss/font-awesome.scss'\nimport { useEffect } from \"react\";\nimport { useDispatch, useSelector } from 'react-redux'\nimport { fetchUserBytoken, userSelector, clearState } from '../../features/UserSlices';\n\nfunction Header() {\n  let token = localStorage.getItem(\"token\")\n  const navigate = useNavigate()\n  const logout = () => {\n    localStorage.removeItem(\"token\")\n    navigate(\"/signIn\")\n  }\n\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if(token != null) {\n      dispatch(fetchUserBytoken({token: token}));\n    }\n  }, [dispatch, token]);\n  const { isError, username, firstName } = useSelector(userSelector);\n  useEffect(() => {\n    return () => {\n      dispatch(clearState());\n    };\n  }, [dispatch]);\n  \n  useEffect(() => {\n    if (isError) {\n      dispatch(clearState());\n    }\n  }, [isError, dispatch]);\n  let menuLink\n  if(token != null) {\n    menuLink = \n      <>\n      <NavLink activeclassname='active' className=\"main-nav-item\" to={'/user'}>\n        <i className=\"fa fa-user-circle\"></i>\n        {username != null ? (username) : (firstName)}\n      </NavLink>\n      <Link className=\"main-nav-item\" onClick={logout}>\n        <i className=\"fa fa-sign-out\"></i>\n        Sign Out\n      </Link>\n      </>\n  }\n  if(!token) {\n    menuLink = \n      <NavLink activeclassname='active' className=\"main-nav-item\" to={'/signIn'}>\n        <i className=\"fa fa-user-circle\"></i>\n        Sign In\n      </NavLink>\n      \n  }\n    return (\n        <nav className=\"main-nav\">\n        <Link className=\"main-nav-logo\" to={'/'}>\n          <img\n            className=\"main-nav-logo-image\"\n            src={Logo}\n            alt=\"Argent Bank Logo\"\n          />\n          <h1 className=\"sr-only\">Argent Bank</h1>\n        </Link>\n        <div>\n          {menuLink}\n        </div>\n      </nav>\n    )\n}\nexport default Header"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}