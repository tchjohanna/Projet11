{"ast":null,"code":"import { createReducer, createAction, configureStore } from \"@reduxjs/toolkit\"; // Actions (Définition des actions Redux)\n\nexport const logIn = createAction('logIn'); // Action pour la connexion\n\nexport const logOut = createAction('logOut'); // Action pour la déconnexion\n\nexport const setUserData = createAction('setUserData'); // Action pour définir les données de l'utilisateur\n\nexport const updateUserData = createAction('updateUserData'); // Action pour mettre à jour les données de l'utilisateur\n\nexport const setUserName = createAction('setUserName'); // Action pour mettre à jour les données de l'utilisateur\n// Initial state (État initial du réducteur)\n\nconst initialState = {\n  name: \"userReducer\",\n  connected: false,\n  // Indique si l'utilisateur est connecté ou non\n  JWTtoken: null,\n  // Token d'authentification JSON Web Token\n  userData: {} // Données de l'utilisateur\n\n}; // Reducer (Définition du réducteur Redux)\n\nconst userReducer = createReducer(initialState, builder => {\n  builder.addCase(logIn, (draft, action) => {\n    // Gestion de l'action de connexion\n    if (!draft.connected) {\n      draft.connected = true;\n      draft.JWTtoken = action.payload; // Stocker le token d'authentification\n    }\n  }).addCase(logOut, draft => {\n    // Gestion de l'action de déconnexion\n    if (draft.connected) {\n      draft.connected = false;\n      draft.userData = {}; // Réinitialiser les données de l'utilisateur\n\n      draft.JWTtoken = null; // Réinitialiser le token d'authentification\n    }\n  }).addCase(setUserData, (draft, action) => {\n    // Gestion de l'action pour définir les données de l'utilisateur\n    draft.userData = action.payload; // Mettre à jour les données de l'utilisateur\n  }).addCase(updateUserData, (draft, action) => {\n    // Gestion de l'action pour mettre à jour les données de l'utilisateur\n    draft.userData.firstName = action.payload.firstName; // Mettre à jour le prénom\n\n    draft.userData.lastName = action.payload.lastName; // Mettre à jour le nom de famille\n  }).addCase(setUserName, (draft, action) => {\n    // Gestion de l'action pour mettre à jour les données de l'utilisateur\n    draft.userData.userName = action.payload.userName; // Mettre à jour le prénom\n  });\n}); // Sélecteurs Redux (Fonctions pour sélectionner des données spécifiques depuis le store)\n// Exportez tous vos sélecteurs\n\nexport const selectUserLogin = state => state.user.connected;\nexport const selectJWT = state => state.user.JWTtoken;\nexport const selectUserData = state => state.user.userData;\nexport const selectFirstName = state => {\n  const userData = selectUserData(state);\n  return userData ? userData.firstName : '';\n};\nexport const selectLastName = state => {\n  const userData = selectUserData(state);\n  return userData ? userData.lastName : '';\n};\nexport const selectUserName = state => {\n  const userData = selectUserData(state);\n  console.log(userData);\n  return userData ? userData.userName : '';\n}; // Création et configuration du store Redux en utilisant configureStore\n\nexport const store = configureStore({\n  // Définition des réducteurs pour gérer les différentes parties de l'état de l'application\n  reducer: {\n    user: userReducer // Utilisation du réducteur `userReducer` pour gérer l'état de l'utilisateur\n\n  }\n});","map":{"version":3,"names":["createReducer","createAction","configureStore","logIn","logOut","setUserData","updateUserData","setUserName","initialState","name","connected","JWTtoken","userData","userReducer","builder","addCase","draft","action","payload","firstName","lastName","userName","selectUserLogin","state","user","selectJWT","selectUserData","selectFirstName","selectLastName","selectUserName","console","log","store","reducer"],"sources":["/Users/johannacastagna/Documents/Projet11/frontend/src/store/store.jsx"],"sourcesContent":["import { createReducer, createAction, configureStore } from \"@reduxjs/toolkit\";\n\n// Actions (Définition des actions Redux)\nexport const logIn = createAction('logIn'); // Action pour la connexion\nexport const logOut = createAction('logOut'); // Action pour la déconnexion\nexport const setUserData = createAction('setUserData'); // Action pour définir les données de l'utilisateur\nexport const updateUserData = createAction('updateUserData'); // Action pour mettre à jour les données de l'utilisateur\nexport const setUserName = createAction('setUserName'); // Action pour mettre à jour les données de l'utilisateur\n// Initial state (État initial du réducteur)\nconst initialState = {\n    name: \"userReducer\",\n    connected: false, // Indique si l'utilisateur est connecté ou non\n    JWTtoken: null, // Token d'authentification JSON Web Token\n    userData: {}, // Données de l'utilisateur\n}\n\n// Reducer (Définition du réducteur Redux)\nconst userReducer = createReducer(initialState, (builder) => {\n    builder\n        .addCase(logIn, (draft, action) => { // Gestion de l'action de connexion\n            if (!draft.connected) {\n                draft.connected = true;\n                draft.JWTtoken = action.payload; // Stocker le token d'authentification\n            }\n        })\n        .addCase(logOut, (draft) => { // Gestion de l'action de déconnexion\n            if (draft.connected) {\n                draft.connected = false;\n                draft.userData = {}; // Réinitialiser les données de l'utilisateur\n                draft.JWTtoken = null; // Réinitialiser le token d'authentification\n            }\n        })\n        .addCase(setUserData, (draft, action) => { // Gestion de l'action pour définir les données de l'utilisateur\n            draft.userData = action.payload; // Mettre à jour les données de l'utilisateur\n        })\n        .addCase(updateUserData, (draft, action) => { // Gestion de l'action pour mettre à jour les données de l'utilisateur\n            draft.userData.firstName = action.payload.firstName; // Mettre à jour le prénom\n            draft.userData.lastName = action.payload.lastName; // Mettre à jour le nom de famille\n        })\n        .addCase(setUserName, (draft, action) => { // Gestion de l'action pour mettre à jour les données de l'utilisateur\n          draft.userData.userName = action.payload.userName; // Mettre à jour le prénom\n        })\n})\n\n// Sélecteurs Redux (Fonctions pour sélectionner des données spécifiques depuis le store)\n// Exportez tous vos sélecteurs\nexport const selectUserLogin = (state) => state.user.connected;\nexport const selectJWT = (state) => state.user.JWTtoken;\nexport const selectUserData = (state) => state.user.userData;\nexport const selectFirstName = (state) => {\n  const userData = selectUserData(state);\n  return userData ? userData.firstName : '';\n};\nexport const selectLastName = (state) => {\n  const userData = selectUserData(state);\n  return userData ? userData.lastName : '';\n};\n\nexport const selectUserName = (state) => {\n  const userData = selectUserData(state);\n  console.log(userData)\n  return userData ? userData.userName : '';\n};\n\n\n// Création et configuration du store Redux en utilisant configureStore\nexport const store = configureStore({\n  // Définition des réducteurs pour gérer les différentes parties de l'état de l'application\n  reducer: {\n    user: userReducer, // Utilisation du réducteur `userReducer` pour gérer l'état de l'utilisateur\n  },\n});\n"],"mappings":"AAAA,SAASA,aAAT,EAAwBC,YAAxB,EAAsCC,cAAtC,QAA4D,kBAA5D,C,CAEA;;AACA,OAAO,MAAMC,KAAK,GAAGF,YAAY,CAAC,OAAD,CAA1B,C,CAAqC;;AAC5C,OAAO,MAAMG,MAAM,GAAGH,YAAY,CAAC,QAAD,CAA3B,C,CAAuC;;AAC9C,OAAO,MAAMI,WAAW,GAAGJ,YAAY,CAAC,aAAD,CAAhC,C,CAAiD;;AACxD,OAAO,MAAMK,cAAc,GAAGL,YAAY,CAAC,gBAAD,CAAnC,C,CAAuD;;AAC9D,OAAO,MAAMM,WAAW,GAAGN,YAAY,CAAC,aAAD,CAAhC,C,CAAiD;AACxD;;AACA,MAAMO,YAAY,GAAG;EACjBC,IAAI,EAAE,aADW;EAEjBC,SAAS,EAAE,KAFM;EAEC;EAClBC,QAAQ,EAAE,IAHO;EAGD;EAChBC,QAAQ,EAAE,EAJO,CAIH;;AAJG,CAArB,C,CAOA;;AACA,MAAMC,WAAW,GAAGb,aAAa,CAACQ,YAAD,EAAgBM,OAAD,IAAa;EACzDA,OAAO,CACFC,OADL,CACaZ,KADb,EACoB,CAACa,KAAD,EAAQC,MAAR,KAAmB;IAAE;IACjC,IAAI,CAACD,KAAK,CAACN,SAAX,EAAsB;MAClBM,KAAK,CAACN,SAAN,GAAkB,IAAlB;MACAM,KAAK,CAACL,QAAN,GAAiBM,MAAM,CAACC,OAAxB,CAFkB,CAEe;IACpC;EACJ,CANL,EAOKH,OAPL,CAOaX,MAPb,EAOsBY,KAAD,IAAW;IAAE;IAC1B,IAAIA,KAAK,CAACN,SAAV,EAAqB;MACjBM,KAAK,CAACN,SAAN,GAAkB,KAAlB;MACAM,KAAK,CAACJ,QAAN,GAAiB,EAAjB,CAFiB,CAEI;;MACrBI,KAAK,CAACL,QAAN,GAAiB,IAAjB,CAHiB,CAGM;IAC1B;EACJ,CAbL,EAcKI,OAdL,CAcaV,WAdb,EAc0B,CAACW,KAAD,EAAQC,MAAR,KAAmB;IAAE;IACvCD,KAAK,CAACJ,QAAN,GAAiBK,MAAM,CAACC,OAAxB,CADqC,CACJ;EACpC,CAhBL,EAiBKH,OAjBL,CAiBaT,cAjBb,EAiB6B,CAACU,KAAD,EAAQC,MAAR,KAAmB;IAAE;IAC1CD,KAAK,CAACJ,QAAN,CAAeO,SAAf,GAA2BF,MAAM,CAACC,OAAP,CAAeC,SAA1C,CADwC,CACa;;IACrDH,KAAK,CAACJ,QAAN,CAAeQ,QAAf,GAA0BH,MAAM,CAACC,OAAP,CAAeE,QAAzC,CAFwC,CAEW;EACtD,CApBL,EAqBKL,OArBL,CAqBaR,WArBb,EAqB0B,CAACS,KAAD,EAAQC,MAAR,KAAmB;IAAE;IACzCD,KAAK,CAACJ,QAAN,CAAeS,QAAf,GAA0BJ,MAAM,CAACC,OAAP,CAAeG,QAAzC,CADuC,CACY;EACpD,CAvBL;AAwBH,CAzBgC,CAAjC,C,CA2BA;AACA;;AACA,OAAO,MAAMC,eAAe,GAAIC,KAAD,IAAWA,KAAK,CAACC,IAAN,CAAWd,SAA9C;AACP,OAAO,MAAMe,SAAS,GAAIF,KAAD,IAAWA,KAAK,CAACC,IAAN,CAAWb,QAAxC;AACP,OAAO,MAAMe,cAAc,GAAIH,KAAD,IAAWA,KAAK,CAACC,IAAN,CAAWZ,QAA7C;AACP,OAAO,MAAMe,eAAe,GAAIJ,KAAD,IAAW;EACxC,MAAMX,QAAQ,GAAGc,cAAc,CAACH,KAAD,CAA/B;EACA,OAAOX,QAAQ,GAAGA,QAAQ,CAACO,SAAZ,GAAwB,EAAvC;AACD,CAHM;AAIP,OAAO,MAAMS,cAAc,GAAIL,KAAD,IAAW;EACvC,MAAMX,QAAQ,GAAGc,cAAc,CAACH,KAAD,CAA/B;EACA,OAAOX,QAAQ,GAAGA,QAAQ,CAACQ,QAAZ,GAAuB,EAAtC;AACD,CAHM;AAKP,OAAO,MAAMS,cAAc,GAAIN,KAAD,IAAW;EACvC,MAAMX,QAAQ,GAAGc,cAAc,CAACH,KAAD,CAA/B;EACAO,OAAO,CAACC,GAAR,CAAYnB,QAAZ;EACA,OAAOA,QAAQ,GAAGA,QAAQ,CAACS,QAAZ,GAAuB,EAAtC;AACD,CAJM,C,CAOP;;AACA,OAAO,MAAMW,KAAK,GAAG9B,cAAc,CAAC;EAClC;EACA+B,OAAO,EAAE;IACPT,IAAI,EAAEX,WADC,CACY;;EADZ;AAFyB,CAAD,CAA5B"},"metadata":{},"sourceType":"module"}